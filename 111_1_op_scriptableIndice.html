<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>option indexable - dataIndex</title>
        <script type="text/javascript" src="./static/chart.js"></script>
		<style>svg {border: 4px solid black}</style>
    </head>
    <body>
		<div style="width: 500px;">
			<canvas id="temp" width="400"></canvas>
		</div>
		<div style="width: 500px;">
			<canvas id="precip" width="400"></canvas>
		</div>
		<div style="margin-top: 2em; font-size: 90%; color: grey">
			<span>Doc. : </span><a target="_blank" href="https://www.chartjs.org/docs/3.9.1/charts/line.html">./charts/line.html</a></br>
			<span>Doc. : </span><a target="_blank" href="https://www.chartjs.org/docs/latest/charts/bar.html">./charts/bar.html</a>
		</div>
		
        <script type="text/javascript">
		let moyennes = {
			temperature: [3.7, 4.4, 7.6, 10.2, 14.1, 17, 19.3, 19.1, 15.8, 12, 7.1, 4.3],
			precipitation: [55.1, 47.6, 51, 53.7, 64.6, 53.9, 61.3, 53.4, 56.1, 63.6, 55.2, 61.4]
		}

		let mois = ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'aout', 'septembre', 'octobre', 'novembre', 'décembre'];

		/// couleur de fond
		Chart.defaults.backgroundColor = function (context) {
			console.log(context);
			const colors = ['#66ccff99', '#00ff9999', '#ffff8099', '#ff990099']
			return colors[Math.floor(context.dataIndex/3)];
		}

		var ctx = document.getElementById('temp').getContext('2d');
		new Chart(ctx, {
			type: 'line',
			data: {
				labels: mois,
				datasets: [{
					label: 'température',
					data: moyennes.temperature,   					
				}]
			}
		});
		

		var ctx = document.getElementById('precip').getContext('2d');
		new Chart(ctx, {
			type: 'bar',
			data: {
				labels: mois,
				datasets: [{
					label: 'Précipitation',
					data: moyennes.precipitation,  					
				}]
			}
		});		
        </script>
    </body>
</html>